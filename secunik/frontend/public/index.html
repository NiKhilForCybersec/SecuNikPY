<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecuNik - Cybersecurity Analysis Platform</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f8fafc; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; text-align: center; }
        .header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
        .header p { opacity: 0.9; font-size: 1.1rem; }
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        .card { background: white; border-radius: 12px; padding: 2rem; margin: 1rem 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .status { display: flex; align-items: center; padding: 1rem; border-radius: 8px; margin: 1rem 0; }
        .status.success { background: #d1fae5; color: #065f46; border-left: 4px solid #10b981; }
        .status.info { background: #dbeafe; color: #1e40af; border-left: 4px solid #3b82f6; }
        .status.warning { background: #fef3c7; color: #92400e; border-left: 4px solid #f59e0b; }
        .upload-zone { border: 3px dashed #d1d5db; border-radius: 12px; padding: 3rem; text-align: center; cursor: pointer; transition: all 0.3s; }
        .upload-zone:hover { border-color: #3b82f6; background: #f8fafc; }
        .upload-zone.dragover { border-color: #10b981; background: #ecfdf5; }
        .btn { background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s; }
        .btn:hover { background: #2563eb; transform: translateY(-1px); }
        .btn-success { background: #10b981; }
        .btn-success:hover { background: #059669; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin: 2rem 0; }
        .file-item { background: #f8fafc; padding: 1rem; border-radius: 8px; border-left: 4px solid #3b82f6; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1.5rem; border-radius: 12px; text-align: center; }
        .stat-number { font-size: 2rem; font-weight: bold; margin-bottom: 0.5rem; }
        .footer { text-align: center; margin: 2rem 0; color: #6b7280; }
    </style>
</head>
<body>
    <div class="header">
        <h1>üîê SecuNik</h1>
        <p>Ultimate Local Cybersecurity Analysis Platform</p>
    </div>
    
    <div class="container">
        <div class="status success">
            <div>
                <strong>‚úÖ System Status:</strong> 
                <span id="backend-status">Checking backend connection...</span>
            </div>
        </div>
        
        <div class="status info">
            <div>
                <strong>‚ÑπÔ∏è Version:</strong> SecuNik v1.0.0 - Phase 1 (Simple HTML Frontend)
            </div>
        </div>
        
        <div class="grid">
            <div class="card">
                <h2>üìä Dashboard</h2>
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number" id="total-files">0</div>
                        <div>Total Files</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-cases">0</div>
                        <div>Cases</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2>üìÅ File Upload</h2>
                <div class="upload-zone" onclick="document.getElementById('fileInput').click()">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üì§</div>
                    <h3>Drop files here or click to browse</h3>
                    <p>Supports: PDF, ZIP, LOG, JSON, CSV, PCAP, and more</p>
                </div>
                <input type="file" id="fileInput" style="display: none;" multiple>
                <div id="selectedFiles"></div>
            </div>
        </div>
        
        <div class="card">
            <h2>üîß Quick Actions</h2>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                <button class="btn" onclick="checkBackend()">üîç Check Backend</button>
                <button class="btn" onclick="viewAPIDocs()">üìö API Documentation</button>
                <button class="btn btn-success" onclick="viewHealth()">‚ù§Ô∏è Health Check</button>
                <button class="btn" onclick="showUpgradeInfo()">‚¨ÜÔ∏è Upgrade to Full Version</button>
            </div>
        </div>
        
        <div id="fileListContainer" class="card" style="display: none;">
            <h2>üìã Selected Files</h2>
            <div id="fileList"></div>
        </div>
    </div>
    
    <div class="footer">
        <p>SecuNik v1.0.0 - Simple HTML Frontend | For full features, install Node.js and use the Vue.js frontend</p>
    </div>

    <script>
        let selectedFiles = [];
        
        // Backend status check
        async function checkBackend() {
            const statusEl = document.getElementById('backend-status');
            try {
                const response = await fetch('http://localhost:8000/health');
                const data = await response.json();
                statusEl.innerHTML = `<span style="color: #10b981;">‚úÖ ${data.status.toUpperCase()}</span> - ${data.message}`;
            } catch (error) {
                statusEl.innerHTML = '<span style="color: #ef4444;">‚ùå DISCONNECTED</span> - Make sure backend is running on port 8000';
            }
        }
        
        // View API documentation
        function viewAPIDocs() {
            window.open('http://localhost:8000/docs', '_blank');
        }
        
        // View health endpoint
        function viewHealth() {
            window.open('http://localhost:8000/health', '_blank');
        }
        
        // Show upgrade information
        function showUpgradeInfo() {
            alert(`To upgrade to the full SecuNik experience:

1. Install Node.js from https://nodejs.org
2. Run: cd frontend && npm install vue@3 vite@5
3. Create the Vue.js components from the artifacts
4. Start with: npm run dev

This will give you:
‚Ä¢ Advanced file analysis
‚Ä¢ Interactive dashboard
‚Ä¢ Real-time notifications  
‚Ä¢ Professional UI components
‚Ä¢ Case management interface`);
        }
        
        // File drag and drop
        const uploadZone = document.querySelector('.upload-zone');
        
        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.classList.add('dragover');
        });
        
        uploadZone.addEventListener('dragleave', () => {
            uploadZone.classList.remove('dragover');
        });
        
        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('dragover');
            handleFiles(e.dataTransfer.files);
        });
        
        // File input change
        document.getElementById('fileInput').addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });
        
        // Handle selected files
        function handleFiles(files) {
            selectedFiles = Array.from(files);
            displaySelectedFiles();
            document.getElementById('total-files').textContent = selectedFiles.length;
        }
        
        // Display selected files
        function displaySelectedFiles() {
            const container = document.getElementById('fileListContainer');
            const list = document.getElementById('fileList');
            
            if (selectedFiles.length === 0) {
                container.style.display = 'none';
                return;
            }
            
            container.style.display = 'block';
            list.innerHTML = '';
            
            selectedFiles.forEach((file, index) => {
                const fileDiv = document.createElement('div');
                fileDiv.className = 'file-item';
                fileDiv.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong>üìÑ ${file.name}</strong><br>
                            <small>Size: ${(file.size / 1024 / 1024).toFixed(2)} MB | Type: ${file.type || 'Unknown'}</small>
                        </div>
                        <button class="btn" onclick="removeFile(${index})">Remove</button>
                    </div>
                `;
                list.appendChild(fileDiv);
            });
            
            // Add upload button
            const uploadDiv = document.createElement('div');
            uploadDiv.style.textAlign = 'center';
            uploadDiv.style.marginTop = '1rem';
            uploadDiv.innerHTML = `
                <button class="btn btn-success" onclick="uploadFiles()">
                    üöÄ Upload ${selectedFiles.length} File(s)
                </button>
            `;
            list.appendChild(uploadDiv);
        }
        
        // Remove file from selection
        function removeFile(index) {
            selectedFiles.splice(index, 1);
            displaySelectedFiles();
            document.getElementById('total-files').textContent = selectedFiles.length;
        }
        
        // Upload files (placeholder)
        async function uploadFiles() {
            alert(`File upload functionality requires the full backend implementation.

For now, this demonstrates the interface. To enable uploads:
1. Implement the upload endpoints in main.py
2. Add file storage and analysis logic
3. Create the complete FastAPI backend

This simple frontend shows how the interface will work!`);
        }
        
        // Initialize
        checkBackend();
        setInterval(checkBackend, 30000); // Check every 30 seconds
    </script>
</body>
</html>